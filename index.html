<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Media Embed</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            font-family: 'Anton', sans-serif; /* Change font-family to Anton */
            background-color: #141414;
            color: #ffffff;
            position: relative; /* Ensure positioning context */
        }
        .container {
            max-width: 800px;
            width: 100%;
            padding: 20px;
            background-color: #1c1c1c;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        nav {
            width: 100%;
            background-color: transparent; /* Changed background color to transparent */
            padding: 10px;
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 20px;
        }
        nav a {
            color: #ffffff;
            text-decoration: none;
            font-size: 1em;
            padding: 10px;
            border-radius: 4px;
            transition: background-color 0.3s;
        }
        nav a:hover, nav a.active {
            background-color: #e50914;
        }
        #mediaForm {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        #mediaForm label {
            font-size: 1em;
            color: #b3b3b3;
        }
        #mediaForm input, #mediaForm button {
            padding: 10px;
            border: 1px solid #333;
            border-radius: 4px;
            font-size: 1em;
            background-color: #333;
            color: #fff;
        }
        #mediaForm button {
            background-color: #e50914;
            border: none;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        #mediaForm button:hover {
            background-color: #b81d24;
        }
        #spinner {
            display: none;
            border: 8px solid #f3f3f3;
            border-radius: 50%;
            border-top: 8px solid #e50914;
            width: 80px;
            height: 80px;
            animation: spin 1s linear infinite;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        #error-message {
            color: #e50914;
            margin-top: 20px;
            text-align: center;
        }
        iframe {
            border: none;
            width: 100%;
            height: 500px;
            margin-top: 20px;
            display: none;
        }
        #tvFields {
            display: none;
        }
        /* Styling for the logo */
        #logo {
            position: absolute;
            top: 10px; /* Adjusted top position */
            left: 50%;
            transform: translateX(-50%);
            width: 300px; /* Adjust width as needed */
            height: auto; /* Maintain aspect ratio */
        }
        @media (max-width: 600px) {
            #logo {
                top: 20px; /* Adjusted top position for smaller screens */
            }
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Anton&display=swap" rel="stylesheet"> <!-- Include Anton font -->
</head>
<body>
    <img id="logo" src="Carn123.png" alt="Carnage Cinematics Logo"> <!-- Replace with the path to your image -->
    <div class="container">
        <nav>
            <a href="#" id="movieLink" class="active" onclick="setMediaType('movie')">Movies</a>
            <a href="#" id="tvLink" onclick="setMediaType('tv')">TV Shows</a>
        </nav>
        <form id="mediaForm" aria-labelledby="mediaFormLabel">
            <label for="mediaId">Enter Media ID:</label>
            <input type="text" id="mediaId" name="mediaId" required aria-required="true" placeholder="e.g., tt1234567">
            <div id="tvFields">
                <label for="season">Season (optional):</label>
                <input type="text" id="season" name="season" placeholder="e.g., 1">
                <label for="episode">Episode (optional):</label>
                <input type="text" id="episode" name="episode" placeholder="e.g., 1">
            </div>
            <button type="submit">Submit</button>
        </form>
    </div>
    <div id="spinner" aria-hidden="true"></div>
    <iframe id="mediaIframe" allowfullscreen></iframe>
    <div id="error-message" aria-live="polite"></div>

    <script>
        let mediaType = 'movie';

        function setMediaType(type) {
            mediaType = type;
            document.getElementById('movieLink').classList.remove('active');
            document.getElementById('tvLink').classList.remove('active');

            if (type === 'movie') {
                document.getElementById('movieLink').classList.add('active');
                document.getElementById('tvFields').style.display = 'none';
            } else {
                document.getElementById('tvLink').classList.add('active');
                document.getElementById('tvFields').style.display = 'block';
            }
        }

        document.getElementById('mediaForm').addEventListener('submit', function(event) {
            event.preventDefault();
            const mediaId = document.getElementById('mediaId').value.trim();
            const season = document.getElementById('season').value.trim();
            const episode = document.getElementById('episode').value.trim();
            const iframe = document.getElementById('mediaIframe');
            const spinner = document.getElementById('spinner');
            const errorMessage = document.getElementById('error-message');

            if (!mediaId) {
                errorMessage.textContent = 'Media ID cannot be empty.';
                return;
            }

            iframe.style.display = 'none';
            spinner.style.display = 'block';
            errorMessage.textContent = '';

            let src = '';

            if (mediaType === 'movie') {
                src = `https://vidsrc.to/embed/movie/${mediaId}`;
            } else if (mediaType === 'tv') {
                if (season && episode) {
                    src = `https://vidsrc.to/embed/tv/${mediaId}/${season}/${episode}`;
                } else if (season) {
                    src = `https://vidsrc.to/embed/tv/${mediaId}/${season}`;
                } else {
                    src = `https://vidsrc.to/embed/tv/${mediaId}`;
                }
            }

            iframe.src = src;
        });

        document.getElementById('mediaIframe').addEventListener('load', function() {
            const spinner = document.getElementById('spinner');
            const iframe = document.getElementById('mediaIframe');
            spinner.style.display = 'none';
            iframe.style.display = 'block';
        });

        document.getElementById('mediaIframe').addEventListener('error', function() {
            const spinner = document.getElementById('spinner');
            const errorMessage = document.getElementById('error-message');
            spinner.style.display = 'none';
            errorMessage.textContent = 'Failed to load the media. Please check the media ID and try again.';
        });
    </script>
</body>
</html>
